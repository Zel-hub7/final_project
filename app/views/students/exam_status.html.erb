<!-- app/views/students/exam_status.html.erb -->

<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-10 text-center">
      <h1 class="display-4 mb-4">Exam Status for <%= @student.FirstName %> <%= @student.LastName %></h1>

      <% if @test.nil? %>
        <p class="lead">You are not yet able to take your exam or you are not exam ready.</p>
      <% else %>
        <% if @test.status == 'passed' %>
          <div class="alert alert-success" role="alert">
            <h4 class="alert-heading">Congratulations!</h4>
            <p class="mb-0">You have passed the exam.</p>
          </div>
        <% elsif @test.status == 'failed' %>
          <div class="alert alert-danger" role="alert">
            <h4 class="alert-heading">Exam Failed</h4>
            <p class="mb-0">Unfortunately, you have failed the exam. Please try again.</p>
              <div class="alert alert-danger" role="alert">
                  You have failed your exam. <a class = "btn btn-danger" href = "http://127.0.0.1:3000/students/reexam">Apply For Re-Exam</a>
              </div>
          </div>
        <% else %>
          <p>Your exam status is: <%= @test.status %></p>
        <% end %>

        <%# Display the test scores in a table if available %>
        <% if @test %>
          <div class="table-responsive mt-4">
            <table class="table table-striped table-hover">
              <thead class="thead-dark">
                <tr>
                 
                  <th>Name</th>
                  <th>Theory Exam</th>
                  <th>Practical Exam</th>
                  <th>Status</th>

                </tr>
              </thead>
              <tbody>
                <tr>
   
                  <td><%= @student.FirstName %> <%= @student.LastName %></td>
                  <td><%= @test.theory_exam %></td>
                  <td><%= @test.practical_exam %></td>
                  <td><%= @test.status %></td>

                </tr>
              </tbody>
            </table>
          </div>
        <% else %>
          <p class="lead">No test scores available for this student.</p>
        <% end %>
      <% end %>

      <%= link_to 'Back to Dashboard', root_path, class: 'btn btn-primary mt-3' %>
    </div>
  </div>
</div>
